# RAG-System Datenbank Performance Report

**Generiert am:** 17.12.2025 um 00:56:03

---

Dieser Report dokumentiert die Ergebnisse der Performance-Tests f√ºr das RAG-System.
Die Tests validieren die architektonischen Entscheidungen und pr√ºfen die Einhaltung
der definierten SLOs (Service Level Objectives).

**Referenz:** Kursmaterialien Modul 2, 4, 7, 8

## Zusammenfassung

| Metrik | Wert |
|--------|------|
| Anzahl Tests | 21 |
| Getestete Datenbanken | MongoDB, Redis, Vector Search |
| Kategorien | NoSQL/Document, NoSQL/Vector |
| Gesamtoperationen | 134,306 |
| Fehler | 0 |
| SLO-Tests | 0/7 bestanden |

### Datenbank-Kategorien (getestet)

| Kategorie | Datenbanken |
|-----------|-------------|
| NoSQL/Document | MongoDB, Redis |
| NoSQL/Vector | Vector Search |

### Vollst√§ndiges Ranking (nach Ops/s)

| Rang | Test | Datenbank | Kategorie | Typ | Ops/s | P95 (ms) |
|------|------|-----------|-----------|-----|-------|----------|
| 1 | Redis Pipeline GET | Redis | NoSQL/Document | sync | 116,718 | 0.01 |
| 2 | Redis Pipeline SET | Redis | NoSQL/Document | sync | 75,149 | 0.01 |
| 3 | MongoDB Bulk insert_many | MongoDB | NoSQL/Document | sync | 31,190 | 0.05 |
| 4 | Redis MGET | Redis | NoSQL/Document | sync | 18,705 | 0.09 |
| 5 | MongoDB Batch find ($in) | MongoDB | NoSQL/Document | sync | 7,294 | 0.21 |
| 6 | Redis Async GET | Redis | NoSQL/Document | async | 7,210 | 1.83 |
| 7 | Redis Async SET | Redis | NoSQL/Document | async | 6,038 | 2.32 |
| 8 | MongoDB Async insert_one | MongoDB | NoSQL/Document | async | 2,619 | 5.80 |
| 9 | MongoDB Async find_one | MongoDB | NoSQL/Document | async | 2,551 | 6.00 |
| 10 | Redis Naive SET | Redis | NoSQL/Document | sync | 2,119 | 0.64 |
| 11 | Redis Naive GET | Redis | NoSQL/Document | sync | 2,099 | 0.67 |
| 12 | MongoDB Single insert_one | MongoDB | NoSQL/Document | sync | 1,113 | 1.25 |
| 13 | MongoDB Single find_one | MongoDB | NoSQL/Document | sync | 980 | 1.54 |
| 14 | MongoDB Filtered find | MongoDB | NoSQL/Document | sync | 403 | 2.70 |
| 15 | pgvector-Manual ANN (HNSW) | Vector Search | NoSQL/Vector | sync | 19 | 60.30 |
| 16 | pgvector-Manual Filtered ANN | Vector Search | NoSQL/Vector | sync | 19 | 60.11 |
| 17 | pgvector-Native ANN (HNSW) | Vector Search | NoSQL/Vector | sync | 19 | 60.35 |
| 18 | pgvector-Native Filtered ANN | Vector Search | NoSQL/Vector | sync | 19 | 60.10 |
| 19 | pgvector-Manual KNN (exakt) | Vector Search | NoSQL/Vector | sync | 6 | 207.48 |
| 20 | pgvector-Native KNN (exakt) | Vector Search | NoSQL/Vector | sync | 6 | 215.93 |
| 21 | MongoDB Vector Search | Vector Search | NoSQL/Vector | sync | 0 | 10845.60 |

## Systemkonfiguration

| Parameter | Wert |
|-----------|------|
| Betriebssystem | Windows 10 |
| Python-Version | 3.12.10 |
| Prozessor | AMD64 Family 23 Model 113 Stepping 0, AuthenticAMD |
| Docker | Docker version 29.1.2, build 890dcca |

**Hinweis:** Da die Tests lokal in Docker-Containern laufen, ist der
Netzwerk-Overhead minimal. In einer produktiven Umgebung k√∂nnen die
Latenzen h√∂her sein.

## Detaillierte Ergebnisse

### Kategorie: NoSQL/Document

#### MongoDB

##### üìù Schreib-Operationen (Write)

| Test | Operationen | Dauer (ms) | Ops/s | Mean (ms) | P95 (ms) | P99 (ms) |
|------|-------------|------------|-------|-----------|----------|----------|
| MongoDB Single insert_one | 10,000 | 8,982.2 | 1,113 | 0.89 | 1.25 | 1.52 |
| MongoDB Bulk insert_many | 10,000 | 320.6 | 31,190 | 0.03 | 0.05 | 0.05 |
| MongoDB Async insert_one (async) | 10,000 | 3,818.0 | 2,619 | 3.79 | 5.80 | 7.49 |

##### üìñ Lese-Operationen (Read)

| Test | Operationen | Dauer (ms) | Ops/s | Mean (ms) | P95 (ms) | P99 (ms) |
|------|-------------|------------|-------|-----------|----------|----------|
| MongoDB Single find_one | 10,000 | 10,199.6 | 980 | 1.02 | 1.54 | 2.30 |
| MongoDB Batch find ($in) | 10,000 | 1,371.0 | 7,294 | 0.14 | 0.21 | 0.26 |
| MongoDB Filtered find | 6 | 14.9 | 403 | 2.48 | 2.70 | 2.71 |
| MongoDB Async find_one (async) | 10,000 | 3,920.1 | 2,551 | 3.90 | 6.00 | 7.30 |

#### Redis

##### üìù Schreib-Operationen (Write)

| Test | Operationen | Dauer (ms) | Ops/s | Mean (ms) | P95 (ms) | P99 (ms) |
|------|-------------|------------|-------|-----------|----------|----------|
| Redis Naive SET | 10,000 | 4,719.1 | 2,119 | 0.47 | 0.64 | 0.79 |
| Redis Pipeline SET | 10,000 | 133.1 | 75,149 | 0.01 | 0.01 | 0.01 |
| Redis Async SET (async) | 10,000 | 1,656.1 | 6,038 | 1.65 | 2.32 | 3.56 |

##### üìñ Lese-Operationen (Read)

| Test | Operationen | Dauer (ms) | Ops/s | Mean (ms) | P95 (ms) | P99 (ms) |
|------|-------------|------------|-------|-----------|----------|----------|
| Redis Naive GET | 10,000 | 4,764.0 | 2,099 | 0.48 | 0.67 | 0.91 |
| Redis Pipeline GET | 10,000 | 85.7 | 116,718 | 0.01 | 0.01 | 0.01 |
| Redis MGET | 10,000 | 534.6 | 18,705 | 0.05 | 0.09 | 0.09 |
| Redis Async GET (async) | 10,000 | 1,387.0 | 7,210 | 1.38 | 1.83 | 2.13 |

### Kategorie: NoSQL/Vector

#### Vector Search

##### üîç Vektorsuche

| Test | Operationen | Dauer (ms) | Ops/s | Mean (ms) | P95 (ms) | P99 (ms) |
|------|-------------|------------|-------|-----------|----------|----------|
| pgvector-Native KNN (exakt) | 100 | 17,678.1 | 6 | 176.78 | 215.93 | 253.64 |
| pgvector-Native ANN (HNSW) | 1,000 | 52,251.4 | 19 | 52.25 | 60.35 | 60.92 |
| pgvector-Native Filtered ANN | 1,000 | 52,476.1 | 19 | 52.48 | 60.10 | 60.46 |
| pgvector-Manual KNN (exakt) | 100 | 16,810.3 | 6 | 168.10 | 207.48 | 236.78 |
| pgvector-Manual ANN (HNSW) | 1,000 | 51,775.7 | 19 | 51.78 | 60.30 | 61.01 |
| pgvector-Manual Filtered ANN | 1,000 | 52,056.0 | 19 | 52.06 | 60.11 | 60.34 |
| MongoDB Vector Search | 100 | 955,593.5 | 0 | 9555.93 | 10845.60 | 14886.07 |

## Vergleiche

### Intra-Datenbank (innerhalb einer DB)

#### Redis: Naive SET vs. Pipeline SET

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 35.5x schneller |
| Ops/s | 35.5x mehr |
| P95 Latenz | 44.7x besser |
| P99 Latenz | 55.7x besser |

**Baseline:** Redis Naive SET  
**Optimiert:** Redis Pipeline SET

#### Redis: Naive GET vs. Pipeline GET

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 55.6x schneller |
| Ops/s | 55.6x mehr |
| P95 Latenz | 67.4x besser |
| P99 Latenz | 91.9x besser |

**Baseline:** Redis Naive GET  
**Optimiert:** Redis Pipeline GET

#### Redis: Sync SET vs. Async SET

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 2.8x schneller |
| Ops/s | 2.8x mehr |
| P95 Latenz | 3.7x schlechter |
| P99 Latenz | 4.5x schlechter |

**Baseline:** Redis Naive SET  
**Optimiert:** Redis Async SET

#### MongoDB: Single vs. Bulk Insert

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 28.0x schneller |
| Ops/s | 28.0x mehr |
| P95 Latenz | 24.1x besser |
| P99 Latenz | 29.2x besser |

**Baseline:** MongoDB Single insert_one  
**Optimiert:** MongoDB Bulk insert_many

#### MongoDB: Single find_one vs. Batch find

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 7.4x schneller |
| Ops/s | 7.4x mehr |
| P95 Latenz | 7.4x besser |
| P99 Latenz | 8.7x besser |

**Baseline:** MongoDB Single find_one  
**Optimiert:** MongoDB Batch find ($in)

#### MongoDB: Sync vs. Async Insert

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 2.4x schneller |
| Ops/s | 2.4x mehr |
| P95 Latenz | 4.6x schlechter |
| P99 Latenz | 4.9x schlechter |

**Baseline:** MongoDB Single insert_one  
**Optimiert:** MongoDB Async insert_one


### SQL-Datenbanken

#### NoSQL Single Read: Redis vs. MongoDB

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 2.1x langsamer |
| Ops/s | 2.1x weniger |
| P95 Latenz | 2.3x schlechter |
| P99 Latenz | 2.5x schlechter |

**Baseline:** Redis Naive GET  
**Optimiert:** MongoDB Single find_one


### NoSQL-Datenbanken

#### NoSQL Bulk Write: Redis vs. MongoDB

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 2.4x langsamer |
| Ops/s | 2.4x weniger |
| P95 Latenz | 3.6x schlechter |
| P99 Latenz | 3.6x schlechter |

**Baseline:** Redis Pipeline SET  
**Optimiert:** MongoDB Bulk insert_many


### Vector Search

#### pgvector-Native: KNN (exakt) vs. ANN (HNSW)

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 3.0x langsamer |
| Ops/s | 3.4x mehr |
| P95 Latenz | 3.6x besser |
| P99 Latenz | 4.2x besser |

**Baseline:** pgvector-Native KNN (exakt)  
**Optimiert:** pgvector-Native ANN (HNSW)

#### pgvector-Manual: KNN (exakt) vs. ANN (HNSW)

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 3.1x langsamer |
| Ops/s | 3.2x mehr |
| P95 Latenz | 3.4x besser |
| P99 Latenz | 3.9x besser |

**Baseline:** pgvector-Manual KNN (exakt)  
**Optimiert:** pgvector-Manual ANN (HNSW)

#### pgvector: Native vs. Manual (ANN/HNSW)

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 1.0x schneller |
| Ops/s | 1.0x mehr |
| P95 Latenz | 1.0x besser |
| P99 Latenz | 1.0x schlechter |

**Baseline:** pgvector-Native ANN (HNSW)  
**Optimiert:** pgvector-Manual ANN (HNSW)

#### pgvector-Native: ANN vs. Filtered ANN

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 1.0x langsamer |
| Ops/s | 1.0x weniger |
| P95 Latenz | 1.0x besser |
| P99 Latenz | 1.0x besser |

**Baseline:** pgvector-Native ANN (HNSW)  
**Optimiert:** pgvector-Native Filtered ANN

#### Vector Search: MongoDB vs. pgvector (ANN)

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 18.3x schneller |
| Ops/s | 182.9x mehr |
| P95 Latenz | 179.7x besser |
| P99 Latenz | 244.4x besser |

**Baseline:** MongoDB Vector Search  
**Optimiert:** pgvector-Native ANN (HNSW)

#### Vector ANN Search: pgvector-Native vs. pgvector-Manual

| Metrik | Verbesserungsfaktor |
|--------|---------------------|
| Geschwindigkeit | 1.0x schneller |
| Ops/s | 1.0x mehr |
| P95 Latenz | 1.0x besser |
| P99 Latenz | 1.0x schlechter |

**Baseline:** pgvector-Native ANN (HNSW)  
**Optimiert:** pgvector-Manual ANN (HNSW)


## SLO-Analyse (Service Level Objectives)

Die folgenden Tests wurden gegen definierte Latenz-Ziele gepr√ºft.
Gem√§√ü Modul 7 ist das kritische Budget f√ºr die Vektorsuche ‚â§50ms (P95).

| Test | Ziel (ms) | P95 (ms) | Status |
|------|-----------|----------|--------|
| pgvector-Native KNN (exakt) | 50 | 215.93 | ‚ùå Nicht bestanden |
| pgvector-Native ANN (HNSW) | 50 | 60.35 | ‚ùå Nicht bestanden |
| pgvector-Native Filtered ANN | 50 | 60.10 | ‚ùå Nicht bestanden |
| pgvector-Manual KNN (exakt) | 50 | 207.48 | ‚ùå Nicht bestanden |
| pgvector-Manual ANN (HNSW) | 50 | 60.30 | ‚ùå Nicht bestanden |
| pgvector-Manual Filtered ANN | 50 | 60.11 | ‚ùå Nicht bestanden |
| MongoDB Vector Search | 50 | 10845.60 | ‚ùå Nicht bestanden |

## Anmerkungen

- postgres: Fehler - 
- mariadb: Test √ºbersprungen - Kein MariaDB/MySQL-Treiber installiert. Installiere mit: pip install mysql-connector-python oder pip install mariadb
- mysql: Test √ºbersprungen - mysql-connector-python nicht installiert. Installiere mit: pip install mysql-connector-python
- mssql: Test √ºbersprungen - pymssql nicht installiert. Installiere mit: pip install pymssql
- couchdb: Fehler - Object of type datetime is not JSON serializable

---

## Gemessene Erkenntnisse

Die folgenden Aussagen basieren **ausschlie√ülich auf den durchgef√ºhrten Tests**:

- **Redis Pipeline SET** war **35.5x schneller** als Redis Naive SET (gemessen: 35.5x mehr Ops/s).
- **Redis Pipeline GET** war **55.6x schneller** als Redis Naive GET (gemessen: 55.6x mehr Ops/s).
- **Redis Async SET** war **2.8x schneller** als Redis Naive SET (gemessen: 2.8x mehr Ops/s).
- **MongoDB Bulk insert_many** war **28.0x schneller** als MongoDB Single insert_one (gemessen: 28.0x mehr Ops/s).
- **MongoDB Batch find ($in)** war **7.4x schneller** als MongoDB Single find_one (gemessen: 7.4x mehr Ops/s).
- **MongoDB Async insert_one** war **2.4x schneller** als MongoDB Single insert_one (gemessen: 2.4x mehr Ops/s).
- **pgvector-Manual ANN (HNSW)** war **1.0x schneller** als pgvector-Native ANN (HNSW) (gemessen: 1.0x mehr Ops/s).
- **pgvector-Native ANN (HNSW)** war **18.3x schneller** als MongoDB Vector Search (gemessen: 182.9x mehr Ops/s).
- **pgvector-Manual ANN (HNSW)** war **1.0x schneller** als pgvector-Native ANN (HNSW) (gemessen: 1.0x mehr Ops/s).
- ‚ö†Ô∏è **pgvector-Native KNN (exakt)** hat das SLO von 50ms NICHT eingehalten (P95: 215.93ms).
- ‚ö†Ô∏è **pgvector-Native ANN (HNSW)** hat das SLO von 50ms NICHT eingehalten (P95: 60.35ms).
- ‚ö†Ô∏è **pgvector-Native Filtered ANN** hat das SLO von 50ms NICHT eingehalten (P95: 60.10ms).
- ‚ö†Ô∏è **pgvector-Manual KNN (exakt)** hat das SLO von 50ms NICHT eingehalten (P95: 207.48ms).
- ‚ö†Ô∏è **pgvector-Manual ANN (HNSW)** hat das SLO von 50ms NICHT eingehalten (P95: 60.30ms).
- ‚ö†Ô∏è **pgvector-Manual Filtered ANN** hat das SLO von 50ms NICHT eingehalten (P95: 60.11ms).
- ‚ö†Ô∏è **MongoDB Vector Search** hat das SLO von 50ms NICHT eingehalten (P95: 10845.60ms).

---

*Report generiert von RAG Performance Test Suite*  
*Hinweis: Alle Schlussfolgerungen sind empirisch aus diesem Testlauf abgeleitet.*